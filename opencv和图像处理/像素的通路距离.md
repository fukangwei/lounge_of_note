---
title: 像素的通路距离
categories: opencv和图像处理
mathjax: true
date: 2019-04-15 18:54:10
---
&emsp;&emsp;通路的定义：一条从具有坐标$(x, y)$的像素`p`，到具有坐标$(s, t)$的像素`q`的通路，是具有坐标$(x_{0}, y_{0})$、$(x_{1}, y_{1})$、$\cdots$、$(x_{n}, y_{n})$的不同像素的序列。其中$(x_{0}, y_{0}) = (x, y)$，$(x_{n}, y_{n}) = (s, t)$，$(x_{i}, y_{i})$和$(x_{i-1}, y_{i-1})$是邻接的，$1 ≤ i ≤ n$，`n`是路径的长度。如果$(x_{0}, y_{0}) = (x_{n}, y_{n})$，则该通路是闭合通路。<!--more-->
&emsp;&emsp;像素之间距离的定义：对于像素`p`、`q`和`z`，分别具有坐标$(x, y)$、$(s, t)$和$(u, v)$，如果具有如下性质：

- $D(p, q) ≥ 0$ ($D(p, q) = 0$，当且仅当$p = q$)
- $D(p, q) = D(q, p)$
- $D(p, z) ≤ D(p, q) + D(q, z)$

则称`D`是距离函数或度量。
&emsp;&emsp;欧式距离定义：像素$p(x, y)$和$q(s, t)$间的欧式距离定义如下：

\begin{align}
D_{e}(p, q) = \sqrt{(x - s)^2 + (y - t)^2} \notag
\end{align}

对于这个距离计算法，具有与$(x, y)$距离小于等于某个值`r`的像素是：包含在以$(x, y)$为圆心，以`r`为半径的圆平面。
&emsp;&emsp;`D4`距离(城市距离)：像素$p(x, y)$和$q(s, t)$之间的`D4`距离定义为：

\begin{align}
D4(p, q) = |x - s| + |y - t| \notag
\end{align}

`D4`距离举例：

- 具有与$(x, y)$距离小于等于某个值`r`的那些像素形成一个菱形。
- 例如，与点$(x, y)$(中心点)`D4`距离小于等于`2`的像素，形成右边固定距离的轮廓。
- 具有$D4 = 1$的像素是$(x, y)$的`4`邻域：

``` python
    2
  2 1 2
2 1 0 1 2
  2 1 2
    2
```

&emsp;&emsp;`D8`距离(棋盘距离)：像素$p(x, y)$和$q(s, t)$之间的`D8`距离定义为：

\begin{align}
D8(p, q) = max(|x - s|, |y - t|) \notag
\end{align}

`D8`距离举例：

- 具有与$(x, y)$距离小于等于某个值`r`的那些像素形成一个正方形。
- 例如，与点$(x, y)$(中心点)`D8`距离小于等于`2`的像素，形成右边固定距离的轮廓。
- 具有$D8 = 1$的像素是$(x, y)$的`8`邻域：

``` python
2 2 2 2 2
2 1 1 1 2
2 1 0 1 2
2 1 1 1 2
2 2 2 2 2
```