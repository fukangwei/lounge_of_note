---
title: Qt开发注意事项
categories: Qt语法详解
date: 2019-01-24 16:12:55
---
1. 如果出现`'tr' was not declared in this scope`的问题，将`tr`替换为`QObject::tr`即可。<!--more-->
2. `Qt`设置控件随窗口大小变化的方法：拖一个控件到窗体上(任何控件都可以)；在窗体空白处`右键 -> 布局 -> 栅格布局`即可。
3. 显示的界面其父类要么统一为`QWidget`，要么统一为`QDialog`，如果混用的话，会出现界面混乱的`BUG`。
4. 新版`Qt Designer`查看窗体代码的地方是`窗体 -> 查看代码`。
5. `Qt::QSplashScreen`是欢迎窗口类型，通常用于制作软件的启动动画；`Qt::Dialog`则是对话框类型。
6. `Qt`包含路径信息的代码应该用`/`符号，例如`C:/logo.png`。
7. 对于`QLineEdit`中的验证器，只有输入行被正确地输入时才能触发相应的槽。
8. 如果出现`Qt`工程打不开的情况，可以尝试把后缀名为`.pro.user`的文件删除掉，然后再打开工程。
9. 如果`Qt Creator`中的源文件或头文件出现乱码的情况，可以将文件的编码格式转换为`System`。
10. 如果出现窗口拒绝拖拽打开文件的情况，可以在窗口的构造函数中加入代码`setAcceptDrops(true);`。
11. `Qt`界面类(例如`Dialog`和`widget`)的变量不能定义为全局变量，否则会出现重大`BUG`。
12. `connect`函数的参数分别为信号发射的对象、发射的信号、接收信号的对象、对信号进行处理的槽。发射信号的对象和信号是在同一个类中，接收信号的对象和槽是在同一个类中，这两个类也可以是同一个类。
13. `connect`函数中信号的参数和槽的参数是一一对应的，即信号会把自己的参数传递给槽的参数。
14. `qDebug`函数无法直接输出`string`类型的变量，但可以输出`QString`类型的变量。如果需要输出`string`变量，则需要在其后面加上`.c_str()`。
15. `QString`类型的数据不是以`\0`结尾的，这要和`C`语言的字符串进行区分，访问`QString`中的单个字符使用`at`函数。
16. 在`Qt`中使用图片时，最好将图片添加到资源文件中，这样可以避免由于图片路径的错误而带来的麻烦。使用资源文件中的图片的方法是`:图片的资源文件路径`。
17. `Qt`判断字符串是否为空应该使用成员函数`isEmpty()`，而不应该用`null`。
18. Qt的`find`函数返回的迭代器的类型为`const_iterator`，因此要将相应的迭代器变量设置为`const_iterator`型。
19. 当使用`Qt`的网络功能时，需要在`.pro`文件中增加语句`QT += network`。
20. 关于`Qt`中`emit`的作用：在程序中应该能找到类似这样的语句`connect ( obj, SIGNAL ( changeCurrentShape ( * ) ), anotherobj, SLOG ( FUN ( * ) ) );`，当执行到`emit changeCurrentShape(Shape::Triangle)`时，`Qt`的信号槽机制会自动触发`FUN`函数。
21. 如果需要为窗口上的控件设置加速键，例如按住`Alt + N`即可跳到某个控件上，可以类似这样做：`pushbotton->setText(tr("&nihao"));`是设置`Alt + N`为加速键。如果需要在控件上显示`&`，需要使用`&&`。
22. `Qt::CaseSensitivity`为枚举类型，可取值`Qt::CaseSensitive`(大小写敏感)和`Qt::CaseInsensitive`(大小写不敏感)，表示匹配的灵敏度。
23. 在`Qt`中，窗口的标题可以随时被改变，要使用`setWindowTitle`函数。
24. `Qt`的`setGeometry (9, 9, 50, 25)`四个参数是指从屏幕上`(9,9)`位置开始(即为最左上角的点)，显示一个`50 * 25`的界面(宽`50`，高`25`)。
25. `Qt`中的`void QApplication::beep () [static]`可以让系统发出蜂鸣声，但是该操作目前不支持嵌入式`linux`。
26. 在`ui`上迅速设置槽函数的方法：在控件上右击，选择`转到槽`，再点击相应的时间，即可在相应的文件中增加其槽函数。